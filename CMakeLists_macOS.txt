cmake_minimum_required(VERSION 3.10)
project(DoAnDoHoa)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# OpenGL, GLFW, GLM
find_package(OpenGL REQUIRED)
find_package(glfw3 REQUIRED)
find_package(glm REQUIRED)

# GTK3 và libdecor - CHỈ CHO LINUX
if(UNIX AND NOT APPLE)
    find_package(PkgConfig REQUIRED)
    pkg_check_modules(GTK3 REQUIRED gtk+-3.0)
    include_directories(${GTK3_INCLUDE_DIRS})
    link_directories(${GTK3_LIBRARY_DIRS})
    add_definitions(${GTK3_CFLAGS_OTHER})
endif()

# Thư mục GLAD
include_directories(glad/include)

# Thư mục Models (Người 2)
include_directories(models)

# Thư mục Objects
include_directories(objects)

# Thư mục Core (Người 1)
include_directories(core)

# Tạo executable
add_executable(
    DoAnApp
    main.cpp
    glad/src/glad.c
    models/Mesh.cpp
    models/Texture.cpp
    models/Primitives.cpp
    objects/Lang.cpp
    objects/CotCo.cpp
    objects/StreetLight.cpp
    objects/Guard.cpp
    objects/Cloud.cpp
    objects/Bird.cpp
    objects/Tree.cpp
    objects/Fence.cpp
    core/TimeOfDay.cpp
)

# Link thư viện
target_link_libraries(
    DoAnApp
    glfw
    ${OPENGL_LIBRARIES}
)

# Link GTK3 và libdecor CHỈ TRÊN LINUX
if(UNIX AND NOT APPLE)
    target_link_libraries(DoAnApp ${GTK3_LIBRARIES} decor-0)
endif()
